{"ast":null,"code":"var _jsxFileName = \"/Volumes/Wallies Extreme SSD/VscodeWorkspaceSSD/VstudioCode/ReactPractice/ReactPart0(Login&SessionStorage)/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport axios from 'axios';\nimport MainPage from './components/Pages/MainPage';\nimport SeeAll from './components/Pages/SeeAll';\nimport SingleItem from './components/Pages/SingleItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    const storedUserLoggedInFormation = localStorage.getItem('isLoggedIn');\n\n    if (storedUserLoggedInFormation === '1') {\n      setIsLoggedIn(true);\n      console.log(user);\n    }\n  }, [user]);\n\n  const loginHandler = (email, password) => {\n    // We should of course check email and password\n    // But it's just a dummy/ demo anyways\n    axios.post('http://localhost:4000/sign-in', {\n      credentials: {\n        email: email,\n        password: password\n      }\n    }).then(result => result.data).then(data => {\n      setUser(data.user);\n      localStorage.setItem('isLoggedIn', '1');\n      localStorage.setItem('token', `${data.user.token}`);\n      setIsLoggedIn(true);\n    }).catch(err => console.log(err));\n  };\n\n  const logoutHandler = nav => {\n    axios.post('http://localhost:4000/sign-out', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(result => result.data).then(data => {\n      setUser({});\n      localStorage.clear();\n      setIsLoggedIn(false);\n    }).catch(err => console.log(err));\n    localStorage.clear();\n    setIsLoggedIn(false);\n    nav();\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(MainHeader, {\n        isAuthenticated: isLoggedIn,\n        onLogout: logoutHandler,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(MainPage, {\n              isLoggedIn: isLoggedIn,\n              onLogin: loginHandler,\n              onLogout: logoutHandler,\n              user: user,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/:id\",\n            element: /*#__PURE__*/_jsxDEV(SingleItem, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/seeAll\",\n            element: /*#__PURE__*/_jsxDEV(SeeAll, {\n              user: user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"gEui683xteo/ON4Ite/5AxtjRBU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Route","Routes","MainHeader","axios","MainPage","SeeAll","SingleItem","App","isLoggedIn","setIsLoggedIn","user","setUser","storedUserLoggedInFormation","localStorage","getItem","console","log","loginHandler","email","password","post","credentials","then","result","data","setItem","token","catch","err","logoutHandler","nav","headers","Authorization","clear"],"sources":["/Volumes/Wallies Extreme SSD/VscodeWorkspaceSSD/VstudioCode/ReactPractice/ReactPart0(Login&SessionStorage)/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {BrowserRouter as Router, Route, Routes} from 'react-router-dom'\nimport MainHeader from './components/MainHeader/MainHeader';\nimport axios from 'axios';\nimport MainPage from './components/Pages/MainPage';\nimport SeeAll from './components/Pages/SeeAll'\nimport SingleItem from './components/Pages/SingleItem';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState({})\n\n  useEffect(()=>{\n    const storedUserLoggedInFormation = localStorage.getItem('isLoggedIn');\n    if(storedUserLoggedInFormation ==='1'){\n      setIsLoggedIn(true)\n      console.log(user);\n    } \n  }, [user])\n  const loginHandler = (email, password) => {\n    // We should of course check email and password\n    // But it's just a dummy/ demo anyways\n    axios.post('http://localhost:4000/sign-in',{\n      credentials: {\n        email: email,\n        password: password\n      }\n    })\n    .then(result=>result.data)\n    .then(data=>{\n      setUser(data.user)\n      localStorage.setItem('isLoggedIn', '1');\n      localStorage.setItem('token', `${data.user.token}`);\n      setIsLoggedIn(true)\n    })\n    .catch(err=>console.log(err))\n  };\n\n  const logoutHandler = (nav) => {\n    axios.post('http://localhost:4000/sign-out', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    })\n      .then(result => result.data)\n      .then(data => {\n        setUser({})\n        localStorage.clear()\n        setIsLoggedIn(false)\n      })\n      .catch(err => console.log(err))\n    localStorage.clear()\n    setIsLoggedIn(false);\n    nav()\n  };\n\n  return (\n    <React.Fragment>\n      <Router>\n\n      <MainHeader isAuthenticated={isLoggedIn} onLogout={logoutHandler} user={user}/>\n      <main>\n        <Routes>\n            <Route path='/' element={<MainPage isLoggedIn={isLoggedIn} onLogin={loginHandler} onLogout={logoutHandler} user={user} setUser={setUser} />}/>\n            <Route path='/:id' element={<SingleItem/>}/>\n            <Route path='/seeAll' element={<SeeAll user={user} />}/>\n       \n        </Routes>\n      </main>\n      </Router>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}